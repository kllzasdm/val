<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Notebook Swans</title>

<!-- Handwritten Font -->
<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

<link rel="preload" as="image" href="swan.png">
<link rel="preload" as="image" href="heart.png">

<style>

/* ================= VALENTINE NOTEBOOK BACKGROUND ================= */

/* ================= VALENTINE NOTEBOOK BACKGROUND ================= */

body{
  margin:0;
  min-height:100vh;
  padding-top:40px;
  font-family:'Patrick Hand', cursive;
  overflow-x:hidden;

  background:
    linear-gradient(
      to bottom,
      transparent 85px,
      #ffb6c1 86px,
      transparent 87px
    ),
    repeating-linear-gradient(
      to bottom,
      #fff0f5 0px,
      #fff0f5 34px,
      #ffb6c1 35px,
      #fff0f5 36px
    ),
    linear-gradient(
      to right,
      transparent 95px,
      #e91e63 95px,
      #e91e63 98px,
      transparent 98px
    );
}

/* subtle paper shadow */
body::after{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  background:radial-gradient(circle at center,
    transparent 75%,
    rgba(0,0,0,0.05) 100%);
}

/* ================= HEADER ================= */

.notebook-header{
  text-align:center;
  margin-top:20px;
  padding:0 20px;
}

.title{
  margin:0;
  font-size:clamp(36px,6vw,48px);
  color:#c2185b;
}

.titl{
  margin-top:10px;
  font-size:clamp(28px,3vw,20px);
  color:#c2185b;
  opacity:0.9;
  max-width:600px;
  margin-left:auto;
  margin-right:auto;
}

/* ================= LAYOUT ================= */

.container{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:80px;
  margin-top:80px;
  padding-bottom:100px;
}

/* ================= HINT BOX ================= */

.hint-box{
  margin-top:12px;
  padding:8px 16px;
  font-size:clamp(14px,2.5vw,18px);
  background:rgba(255,255,255,0.9);
  border:2px dashed #c2185b;
  border-radius:12px;
  color:#c2185b;
  text-align:center;
  max-width:220px;
}

.item{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
}

/* ================= NOTEBOOK ARROW ================= */

.notebook-margin-arrow{
  position:absolute;
  left:20px;
  top:200px;
  display:flex;
  flex-direction:column;
  align-items:center;
  pointer-events:none;
  opacity:0.6;
}

.notebook-margin-arrow img{
  width:120px;
}

.margin-text{
  font-size:22px;
  color:#ff8fb1;
  margin-bottom:10px;
  transform:rotate(-5deg);
}

/* ================= SWANS ================= */

.swans{
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}

.swan{
  width:32vw;
  max-width:200px;
  cursor:pointer;
  transition:
    transform 1s cubic-bezier(0.22,1,0.36,1),
    opacity 1s ease,
    filter 0.3s ease;

  filter:
    drop-shadow(4px 0 0 black)
    drop-shadow(-4px 0 0 black)
    drop-shadow(0 4px 0 black)
    drop-shadow(0 -4px 0 black);
}

.swan.active{
  filter:
    drop-shadow(4px 0 0 black)
    drop-shadow(-4px 0 0 black)
    drop-shadow(0 4px 0 black)
    drop-shadow(0 -4px 0 black)
    drop-shadow(0 0 20px rgba(0,0,0,0.15));
}

.right{
  transform:scaleX(-1) translateX(15%);
  opacity:0;
}

.right.show{
  transform:scaleX(-1) translateX(-15%) rotate(-8deg);
  opacity:1;
}

.left.move{
  transform:translateX(15%) rotate(-8deg);
}

.fade-out{
  opacity:0;
}

/* ================= FLOWER ================= */

#flower{
  position:relative;
  width:26vw;
  max-width:160px;
  aspect-ratio:1;
  cursor:pointer;
}

.stem{
  position:absolute;
  width:6%;
  height:95%;
  left:47%;
  top:40%;
  background:#4caf50;
  border-radius:40px;
  border:3px solid black;
}

.leaf{
  position:absolute;
  width:28%;
  height:22%;
  left:28%;
  top:92%;
  background:#6edc7b;
  border-radius:70% 30% 60% 40%;
  transform:rotate(-40deg);
  border:3px solid black;
}

.petal{
  position:absolute;
  width:28%;
  height:45%;
  background:#ff6aa2;
  border-radius:60% 60% 50% 50%;
  border:3px solid black;
  top:50%;
  left:50%;
  transform-origin:50% 100%;
}

.flower-center{
  position:absolute;
  width:32%;
  height:32%;
  background:#ffd700;
  border-radius:50%;
  border:3px solid black;
  top:35%;
  left:35%;
}

/* ================= FLOATING TEXT ================= */

.floating-text{
  position:absolute;
  padding:0.8em 1.4em;
  font-size:clamp(16px,3vw,20px);
  color:black;
  background:white;
  border-radius:50px;
  border:3px solid black;
  pointer-events:none;
  opacity:0;
  z-index:10;
}

/* ================= PROGRESS BAR ================= */

#loveProgressContainer{
  position:fixed;
  top:20px;
  left:50%;
  transform:translateX(-50%);
  width:80%;
  max-width:400px;
  height:18px;
  background:white;
  border:3px solid black;
  border-radius:20px;
  overflow:hidden;
  z-index:5000;
  transition:opacity 0.5s ease;
}

#loveProgressBar{
  height:100%;
  width:0%;
  background:#e91e63;
  transition:width 0.4s ease;
}

</style>
</head>

<body>
<div id="loveProgressContainer">
  <div id="loveProgressBar"></div>
</div>

<div class="notebook-header">
  <h1 class="title">Hey my love love</h1>
  <br>
  <P class="titl">NO matter if its valentine or any day I will love you forever,
    i will never ever find someone as perfect a you my sweet heart, 
    iam sorry if i ever upset you or ever made feel bad,
    you are the best the thing that has ever happened to me, 
    the most kind girl the most lovley girl ,My girl I love you so so so so so so much.
  </P>
  <br>
  <h1 class="title">no matter how much the space between us is you are always close to my heart , you are my actuall heart.</h1>
  
</div>

<div class="notebook-margin-arrow">
  <img src="arrow.png" alt="">
  <div class="margin-text">scroll down</div>
</div>
<div class="container">
 <div class="item">
    <div class="hint-box">Tap the flower</div>
  <div id="flower"></div>
  
</div>
<br><br>

<div class="item">
    <div class="hint-box">Tap the swan</div>
  <div class="swans">
    <img src="swan.png" id="leftSwan" class="swan left">
    <img src="swan.png" id="rightSwan" class="swan right">
  </div>
  
</div>

<div class="item">
     <div class="hint-box">Tap the heart</div>
  <img src="heart.png" id="magicHeart">
 
</div>


</div>

<script>

/* ================= GLOBAL ================= */

const leftSwan = document.getElementById("leftSwan");
const rightSwan = document.getElementById("rightSwan");
const magicHeart = document.getElementById("magicHeart");
const flower = document.getElementById("flower");

let swanActive=false;
let heartInterval;

/* ================= SWANS ================= */

function activateSwans(){
  if(swanActive) return;
  swanActive=true;

  leftSwan.classList.add("move","active");
  rightSwan.classList.add("show","active");

  startHearts();
  floatSwanMessage();

  setTimeout(resetSwans,6000);
}

function startHearts(){

  heartInterval=setInterval(()=>{

    const leftRect=leftSwan.getBoundingClientRect();
    const rightRect=rightSwan.getBoundingClientRect();

    const startX=leftRect.left+leftRect.width*0.6;
    const endX=rightRect.left+rightRect.width*0.4;
    const spawnY=leftRect.top+leftRect.height*0.35;
    const spawnX=startX+Math.random()*(endX-startX);

    const heart=document.createElement("div");
    heart.className="heart";
    heart.textContent="â¤ï¸";

    heart.style.left=spawnX+"px";
    heart.style.top=spawnY+"px";

    document.body.appendChild(heart);

    heart.animate([
      {transform:"translate(-50%,-50%) scale(0.8)",opacity:0},
      {transform:"translate(-50%,-180px) scale(1.2)",opacity:1},
      {transform:"translate(-50%,-240px)",opacity:0}
    ],{duration:4000,easing:"ease-out"});

    setTimeout(()=>heart.remove(),4000);

  },300);
}
function floatSwanMessage(){

  const leftRect = leftSwan.getBoundingClientRect();
  const rightRect = rightSwan.getBoundingClientRect();

  const centerX = (leftRect.left + rightRect.right) / 2 + window.scrollX;
  const centerY = leftRect.top + leftRect.height * 0.4 + window.scrollY;

  const text = document.createElement("div");
  text.className = "floating-text";
  text.textContent = "Happy together ðŸ’ž";
  text.style.zIndex = "1500";

  text.style.left = centerX + "px";
  text.style.top = centerY + "px";

  document.body.appendChild(text);

  text.animate([
    { transform: "translate(-50%,0) scale(0.8)", opacity: 0 },
    { transform: "translate(-50%,-100px) scale(1.1)", opacity: 1 },
    { transform: "translate(-50%,-160px) scale(1)", opacity: 0 }
  ], {
    duration: 4000,
    easing: "ease-out"
  });

  setTimeout(() => text.remove(), 4000);
}

function resetSwans(){
  clearInterval(heartInterval);
  rightSwan.classList.add("fade-out");

  setTimeout(()=>{
    rightSwan.classList.remove("show","fade-out","active");
    leftSwan.classList.remove("move","active");
    swanActive=false;
  },1000);
}

leftSwan.addEventListener("pointerdown",activateSwans);

/* ================= BIG HEART ================= */
/* ================= BIG HEART ================= */
let loveDrainInterval;
let loveMaxTriggered = false;
let drainSpeed = 300;
const messages = ["Ø­Ø¨ÙˆØ¨ØªÙŠ","Habobty","Lovy love love","Together forever","Habobet Alby","Ø­Ø¨ÙˆØ¨Ø© Ø£Ù„Ø¨ÙŠ","Ø¹Ù…Ø±ÙŠ","Ø­ÙŠØ§ØªÙŠ","Ù‚Ù„Ø¨ÙŠ"];
const loveBar = document.getElementById("loveProgressBar");
let loveLevel = 0;
function increaseLove(){

  const container = document.getElementById("loveProgressContainer");

  container.style.opacity = "1";

  loveLevel += 10;

  if(loveLevel > 100){
    loveLevel = 100;
  }

  loveBar.style.width = loveLevel + "%";

 if(loveLevel === 100 && !loveMaxTriggered){
  loveMaxTriggered = true;

  // Wait for bar animation to visually finish
  setTimeout(() => {
    explodeLove();
  }, 400); // match CSS transition time
}

}


function explodeLove(){

  const explosionCount = 90;

  for(let i = 0; i < explosionCount; i++){

    const emoji = document.createElement("div");
    const loveEmojis = [
  "ðŸ’–",  // sparkling heart
  "â¤ï¸",  // classic red heart
  "ðŸ’—",  // growing heart
  "ðŸ’˜",  // heart with arrow
  "ðŸ’",  // heart with ribbon
  "ðŸŽ€" ,
  "ðŸŒ¹"  // ribbon bow
];
emoji.textContent = loveEmojis[
  Math.floor(Math.random() * loveEmojis.length)
];

    emoji.style.position = "fixed";
    emoji.style.left = "50%";
    emoji.style.top = "50%";
    const size = 20 + Math.random() * 30;
emoji.style.fontSize = size + "px";

    emoji.style.pointerEvents = "none";
    emoji.style.zIndex = "9000";

    document.body.appendChild(emoji);

    const angle = Math.random() * Math.PI * 2;
    const distance = 200 + Math.random() * 400;

    const x = Math.cos(angle) * distance;
    const y = Math.sin(angle) * distance;

    const rotation = Math.random() * 720 - 360;
    const duration = 1500 + Math.random() * 1000;

    emoji.animate([
      { transform: "translate(-50%,-50%) scale(0.5)", opacity: 1 },
      { transform: `translate(calc(-50% + ${x}px), calc(-50% + ${y}px)) rotate(${rotation}deg) scale(1.2)`, opacity: 1 },
      { transform: `translate(calc(-50% + ${x}px), calc(-50% + ${y + 150}px)) rotate(${rotation}deg) scale(1)`, opacity: 0 }
    ],{
      duration: duration,
      easing: "ease-out"
    });

    setTimeout(()=>emoji.remove(), duration);
  }
}
function startLoveDrain(){

  function drain(){

    if(loveLevel > 0){

      loveLevel -= 1;
      if(loveLevel < 0) loveLevel = 0;

      loveBar.style.width = loveLevel + "%";

      if(loveLevel < 100){
        loveMaxTriggered = false;
      }
    }

    if(loveLevel === 0){
      document.getElementById("loveProgressContainer").style.opacity = "0";
    }

    // Faster drain if it was full
    const nextSpeed = loveMaxTriggered ? 120 : 300;

    setTimeout(drain, nextSpeed);
  }

  drain();
}


function activateBigHeart(){
increaseLove();

  // glow effect
  magicHeart.classList.add("glow");
  setTimeout(() => magicHeart.classList.remove("glow"), 3000);

  const rect = magicHeart.getBoundingClientRect();

  // create floating text
  const text = document.createElement("div");
  text.className = "floating-text";
  text.textContent = messages[Math.floor(Math.random() * messages.length)];

  // random spawn point INSIDE heart box (fixed for scroll)
  const randomX = rect.left + window.scrollX + Math.random() * rect.width;
  const randomY = rect.top  + window.scrollY + Math.random() * rect.height;

  text.style.left = randomX + "px";
  text.style.top  = randomY + "px";

  document.body.appendChild(text);

  // random motion
  const driftX = (Math.random() - 0.5) * 80;        // sideways drift
  const floatHeight = 100 + Math.random() * 60;     // height variation
  const duration = 2500 + Math.random() * 1000;     // speed variation

  text.animate([
    { transform: "translate(-50%,0)", opacity: 0 },
    { transform: `translate(calc(-50% + ${driftX}px), -${floatHeight}px)`, opacity: 1 },
    { transform: `translate(calc(-50% + ${driftX}px), -${floatHeight + 40}px)`, opacity: 0 }
  ], {
    duration: duration,
    easing: "ease-out"
  });

  setTimeout(() => text.remove(), duration);
}

magicHeart.addEventListener("pointerdown", activateBigHeart);


/* ================= FLOWER ================= */

const flowerMessages = [
  "Be mine forever ?",
  "Be yours forever ?",
 
];
let flowerMessageIndex = 0;

const finalFlowerMessage = "You will be mine forever and I'll be yours forever i will keep loving you forever Habobty";
function floatFlowerText(isFinal = false){

  const rect = flower.getBoundingClientRect();

  const text = document.createElement("div");
  text.className = "floating-text";

  if(isFinal){
    text.textContent = finalFlowerMessage;
    text.style.fontSize = "clamp(22px,5vw,32px)";
    text.style.padding = "1.2em 2em";
    text.style.borderRadius = "40px";
  } else {
   text.textContent = flowerMessages[flowerMessageIndex];
flowerMessageIndex = (flowerMessageIndex + 1) % flowerMessages.length;

  }

  const x = rect.left + window.scrollX + rect.width/2;
  const y = rect.top + window.scrollY + rect.height/2;

  text.style.left = x + "px";
  text.style.top = y + "px";

  document.body.appendChild(text);

  const duration = isFinal ? 7000 : 2500;
const floatDistance = isFinal ? 250 : 120;

text.animate([
  { transform: "translate(-50%,0) scale(0.8)", opacity: 0 },
  { transform: `translate(-50%,-${floatDistance}px) scale(1.1)`, opacity: 1 },
  { transform: `translate(-50%,-${floatDistance + 40}px) scale(1)`, opacity: 0 }
], {
  duration: duration,
  easing: "ease-out"
});

  setTimeout(() => text.remove(), duration);
}

const petalCount=8;
let petals=[];
let currentPetal=0;

function createFlower(){

  flower.innerHTML = "";
  petals = [];
  currentPetal = 0;

  // ----- STEM -----
  const stem = document.createElement("div");
  stem.className = "stem";
  flower.appendChild(stem);

  const leaf = document.createElement("div");
  leaf.className = "leaf";
  flower.appendChild(leaf);

  // ----- ANGLE SETS -----
  const  frontAngles = [45, 135, 225, 315];
  const backAngles = [0, 90, 180, 270];

  // ----- BACK PETALS -----
  backAngles.forEach(angle => {
    const petal = document.createElement("div");
    petal.className = "petal";
    petal.style.transform = `translate(-50%,-100%) rotate(${angle}deg)`;
    petal.style.zIndex = 1;   // back layer
    flower.appendChild(petal);
    petals.push({ element: petal, angle });
  });

  // ----- FRONT PETALS -----
  frontAngles.forEach(angle => {
    const petal = document.createElement("div");
    petal.className = "petal";
    petal.style.transform = `translate(-50%,-100%) rotate(${angle}deg)`;
    petal.style.zIndex = 5;   // front layer
    flower.appendChild(petal);
    petals.push({ element: petal, angle });
  });

  // ----- CENTER -----
  const center = document.createElement("div");
  center.className = "flower-center";
  center.style.zIndex = 10;   // always top
  flower.appendChild(center);
}


flower.addEventListener("pointerdown",()=>{

  if(currentPetal>=petals.length) return;
  // Only show small message if not last petal
  if(currentPetal !== petalCount - 1){
    floatFlowerText();
  }

  const {element,angle}=petals[currentPetal];
  const rect=element.getBoundingClientRect();
  const computed=window.getComputedStyle(element);

  element.style.width=computed.width;
  element.style.height=computed.height;

  let x=rect.left+rect.width/2;
  let y=rect.top+rect.height/2;
  let velocityX=Math.cos(angle*Math.PI/180)*2;
  let velocityY=Math.sin(angle*Math.PI/180)*-2;
  let rotation=angle;
  const gravity=0.25;

  element.remove();
  element.style.position="absolute";
  element.style.left=x+"px";
  element.style.top=y+"px";
  document.body.appendChild(element);

  function animate(){
    velocityY+=gravity;
    x+=velocityX;
    y+=velocityY;
    rotation+=2;

    element.style.left=x+"px";
    element.style.top=y+"px";
    element.style.transform=`translate(-50%,-50%) rotate(${rotation}deg)`;

    if(y<window.innerHeight+100){
      requestAnimationFrame(animate);
    }else{
      element.remove();
    }
  }

  requestAnimationFrame(animate);
  currentPetal++;

 if(currentPetal===petalCount){
  floatFlowerText(true); // big final message
  setTimeout(createFlower,4000);
}

});

createFlower();
startLoveDrain();

</script>

</body>
</html>
